<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script>
			var versionObject = {
				"1938": {
					"1. Mooses": ["1", "2", "3"],
					"2. Mooses": ["1", "2"],
					"3. Mooses": ["1"]    
				},
				"KJV": {
					"Genesis": ["1", "2", "3", "4", "5"],
					"Exodus": ["1", "2", "3", "4"]
				}
			}
			window.onload = function() {
				var versionSel = document.getElementById("version");
				var bookSel = document.getElementById("book");
				var chapterSel = document.getElementById("chapter");
				
				for (var x in versionObject) {
					versionSel.options[versionSel.options.length] = new Option(x, x);
				}
				versionSel.onchange = function() {
					    //empty Chapters- and Books- dropdowns
					    bookSel.length = 1;
					    chapterSel.length = 1;
					var mylist_version = document.getElementById("version");  
					document.getElementById("choice_version").value = mylist_version.options[mylist_version.selectedIndex].text;
					//display correct values
					for (var y in versionObject[this.value]) {
						bookSel.options[bookSel.options.length] = new Option(y, y);
					}
				}
				bookSel.onchange = function() {
					    //empty Chapters dropdown
					    chapterSel.length = 1;
					var mylist_book = document.getElementById("book");  
					document.getElementById("choice_book").value = mylist_book.options[mylist_book.selectedIndex].text;
					//display correct values
					var z = versionObject[versionSel.value][this.value];
					for (var i = 0; i < z.length; i++) {
						chapterSel.options[chapterSel.options.length] = new Option(z[i], z[i]);
					}
				}
				chapterSel.onchange = function() {
					var mylist_chapter = document.getElementById("chapter");  
					document.getElementById("choice_chapter").value = mylist_chapter.options[mylist_chapter.selectedIndex].text;
					
				}
				
				document
				.getElementById('file_choice')
				.addEventListener(
				'change',
				function () {
					var fr = new FileReader();
					fr.onload = function () {
						document.getElementById('file_contents').textContent = this.result;
					};
					fr.readAsText(this.files[0]);
				}
				);
				
				
			
			
		</script>
	</head>   
	<body>
		
		<h1>Example Bible 1933/38 Finnish and KJV</h1>
		
		<form name="form1" id="form1" action="">
			Versions: <select name="version" id="version">
				<option value="" selected="selected">Choose version</option>
			</select>
			<br><br>
			Books: <select name="book" id="book">
				<option value="" selected="selected">Please select version first</option>
			</select>
			<br><br>
			Chapters: <select name="chapter" id="chapter">
				<option value="" selected="selected">Please select book first</option>
			</select>
			<p> You chose:   
				<input type = "text" id = "choice_version" size = "20" </p>
				<input type = "text" id = "choice_book" size = "20" </p>  
				<input type = "text" id = "choice_chapter" size = "20" </p>  
				<br><br>
				
				<input type="file" id="file_choice" />
				<br><br>
				
				<pre id="file_contents" wrap="hard" style="font-size: 18px; font-family: arial"> </pre>
				
				
				<br />
				<br><br>  
			</form>
			
		</body>
	</html>
